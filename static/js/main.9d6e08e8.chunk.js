(window.webpackJsonpbmical=window.webpackJsonpbmical||[]).push([[0],{154:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(45),i=a.n(o),c=(a(55),a(49)),l=a(9),s=a(46),d=(a(58),a(29),a(16));function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var u={weight:"",height:"",date:""},h=function(e){var t=e.change,a=Object(n.useState)(u),o=Object(l.a)(a,2),i=o[0],c=o[1],s=function(e){var t,a=e.target,n=a.value,r=a.name;n>999&&(n=999);var o=(new Date).toLocaleString().split(",")[0];c(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},i,(t={},Object(d.a)(t,r,n),Object(d.a)(t,"date",o),t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m6 s12"},r.a.createElement("label",{htmlFor:"weight"},"Weight (in kg)"),r.a.createElement("input",{id:"weight",name:"weight",type:"number",min:"1",max:"999",placeholder:"50",value:i.weight,onChange:s})),r.a.createElement("div",{className:"col m6 s12"},r.a.createElement("label",{htmlFor:"height"},"Height (in cm)"),r.a.createElement("input",{id:"height",name:"height",type:"number",min:"1",max:"999",placeholder:"176",value:i.height,onChange:s}))),r.a.createElement("div",{className:"center"},r.a.createElement("button",{id:"bmi-btn",className:"calculate-btn",type:"button",disabled:""===i.weight||""===i.height,onClick:function(){t(i),c(u)}},"Calculate BMI")))},g=function(e){var t=e.weight,a=e.height,n=e.id,o=e.date,i=e.bmi,c=e.deleteCard;return r.a.createElement("div",{className:"col m6 s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title","data-test":"bmi"},"BMI: ",i),r.a.createElement("div",{className:"card-data"},r.a.createElement("span",{"data-test":"weight"},"Weight: ",t," kg"),r.a.createElement("span",{"data-test":"height"},"Height: ",a," cm"),r.a.createElement("span",{"data-test":"date"},"Date: ",o)),r.a.createElement("button",{className:"delete-btn",onClick:function(){c(n)}},"X"))))},f=a(47),b=function(e){var t=e.labelData,a=e.bmiData;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{data:function(e){var n=e.getContext("2d").createLinearGradient(63,81,181,700);return n.addColorStop(0,"#929dd9"),n.addColorStop(1,"#172b4d"),{labels:t,datasets:[{label:"BMI",data:a,backgroundColor:n,borderColor:"#3F51B5",pointRadius:6,pointHoverRadius:8,pointHoverBorderColor:"white",pointHoverBorderWidth:2}]}},options:{responsive:!0,scales:{xAxes:[{scaleLabel:{display:!0,labelString:"Date",fontSize:18,fontColor:"white"},gridLines:{display:!1,color:"white"},ticks:{fontColor:"white",fontSize:16}}],yAxes:[{scaleLabel:{display:!0,labelString:"BMI",fontSize:18,fontColor:"white"},gridLines:{display:!1,color:"white"},ticks:{fontColor:"white",fontSize:16,beginAtZero:!0}}]},tooltips:{titleFontSize:13,bodyFontSize:13}}}))},v=function(e){if(localStorage)try{return JSON.parse(localStorage.getItem(e))}catch(t){console.error("Error getting item ".concat(e," from localStorage"),t)}},p=function(e,t){if(localStorage)try{return localStorage.setItem(e,JSON.stringify(t))}catch(a){console.error("Error storing item ".concat(e," to localStorage"),a)}},w=function(){var e=Object(n.useState)(function(){return v("data")||[]}),t=Object(l.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)({}),d=Object(l.a)(i,2),m=d[0],u=d[1];Object(n.useEffect)(function(){p("data",a);var e=a.map(function(e){return e.date}),t=a.map(function(e){return e.bmi});u({date:e,bmi:t})},[a]);var f=function(e){p("lastState",a);var t=a.filter(function(t){return t.id!==e});o(t)};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row center"},r.a.createElement("h1",{className:"white-text"}," BMI Tracker ")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m12 s12"},r.a.createElement(h,{change:function(e){var t=e.height/100;e.bmi=(e.weight/(t*t)).toFixed(2),e.id=Object(s.v4)();var n=[].concat(Object(c.a)(a),[e]),r=n.length;r>7&&(n=n.slice(1,r)),o(n)}}),r.a.createElement(b,{labelData:m.date,bmiData:m.bmi}),r.a.createElement("div",null,r.a.createElement("div",{className:"row center"},r.a.createElement("h4",{className:"white-text"},"7 Day Data")),r.a.createElement("div",{className:"data-container row"},a.length>0?r.a.createElement(r.a.Fragment,null,a.map(function(e){return r.a.createElement(g,{key:e.id,id:e.id,weight:e.weight,height:e.height,date:e.date,bmi:e.bmi,deleteCard:f})})):r.a.createElement("div",{className:"center white-text"},"No log found"))),null!==v("lastState")?r.a.createElement("div",{className:"center"},r.a.createElement("button",{className:"calculate-btn",onClick:function(){o(v("lastState"))}},"Undo")):"")))},E=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(w,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/bmi-calculator",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/bmi-calculator","/service-worker.js");E?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):S(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):S(t,e)})}}()},29:function(e,t,a){},50:function(e,t,a){e.exports=a(154)},55:function(e,t,a){}},[[50,1,2]]]);
//# sourceMappingURL=main.9d6e08e8.chunk.js.map